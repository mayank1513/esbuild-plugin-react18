<!DOCTYPE html><html class="default" lang="en"><head><meta charset="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>React18 Loaders</title><meta name="description" content="Documentation for React18 Loaders"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="assets/style.css"/><link rel="stylesheet" href="assets/highlight.css"/><script defer src="assets/main.js"></script><script async src="assets/icons.js" id="tsd-icons-script"></script><script async src="assets/search.js" id="tsd-search-script"></script><script async src="assets/navigation.js" id="tsd-nav-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";document.body.style.display="none";setTimeout(() => app?app.showPage():document.body.style.removeProperty("display"),500)</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><div class="table-cell" id="tsd-search" data-base="."><div class="field"><label for="tsd-search-field" class="tsd-widget tsd-toolbar-icon search no-caption"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="assets/icons.svg#icon-search"></use></svg></label><input type="text" id="tsd-search-field" aria-label="Search"/></div><div class="field"><div id="tsd-toolbar-links"></div></div><ul class="results"><li class="state loading">Preparing search index...</li><li class="state failure">The search index is not available</li></ul><a href="index.html" class="title">React18 Loaders</a></div><div class="table-cell" id="tsd-widgets"><a href="#" class="tsd-widget tsd-toolbar-icon menu no-caption" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="assets/icons.svg#icon-menu"></use></svg></a></div></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"><h2>React18 Loaders</h2></div><div class="tsd-panel tsd-typography"><a id="md:esbuild-plugin-react18-" class="tsd-anchor"></a><h1 class="tsd-anchor-link">Esbuild Plugin React18 <img src="https://github.com/react18-tools/turborepo-template/blob/main/popper.png?raw=true" style="height: 40px"/><a href="#md:esbuild-plugin-react18-" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h1><p><a href="https://github.com/react18-tools/esbuild-plugin-react18/actions/workflows/test.yml"><img src="https://github.com/react18-tools/esbuild-plugin-react18/actions/workflows/test.yml/badge.svg" alt="test"></a> <a href="https://codeclimate.com/github/react18-tools/esbuild-plugin-react18/maintainability"><img src="https://api.codeclimate.com/v1/badges/aa896ec14c570f3bb274/maintainability" alt="Maintainability"></a> <a href="https://codecov.io/gh/react18-tools/esbuild-plugin-react18"><img src="https://codecov.io/gh/react18-tools/esbuild-plugin-react18/graph/badge.svg" alt="codecov"></a> <a href="https://www.npmjs.com/package/esbuild-plugin-react18"><img src="https://img.shields.io/npm/v/esbuild-plugin-react18.svg?colorB=green" alt="Version"></a> <a href="https://www.npmjs.com/package/esbuild-plugin-react18"><img src="https://img.jsdelivr.com/img.shields.io/npm/d18m/esbuild-plugin-react18.svg" alt="Downloads"></a> <img src="https://img.shields.io/bundlephobia/minzip/esbuild-plugin-react18" alt="npm bundle size"> <a href="https://gitpod.io/from-referrer/"><img src="https://img.shields.io/badge/Gitpod-ready--to--code-blue?logo=gitpod" alt="Gitpod ready-to-code"></a></p>
<img src="esbuild-react18.webp" title="Build Awesome Libraries using React Server Components and make your Mark!" style="width:100%"/>
<blockquote>
<p>Build Awesome Libraries using React Server Components and make your Mark!</p>
</blockquote>
<p>Esbuild Plugin React18 is an <code>esbuild</code> plugin designed to help library developers unlock the full potential of React 18 server components. It facilitates compiling libraries compatible with React 18 server and client components, Next.js 13, Remix, etc., seamlessly integrating with React and Next.js.</p>
<a id="md:why" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Why?<a href="#md:why" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>✅ Unleash the full power of React18 Server components<br>
✅ Build libraries for all build systems/tools/frameworks supporting React18<br>
✅ Unleash the power of combining react client and server components in your libraries<br>
✅ Full TypeScript support out of the box<br>
✅ Supports CJS and ESM builds out of the box<br>
✅ Simple and tiny<br>
✅ Easy to use — just add the plugin, and you are good to go<br>
✅ All in one plugin for building react18 libraries with <code>tsup</code> or <code>esbuild</code><br>
✅ add &quot;use client&quot; directive to indicate client component and the plugin will do the rest<br>
✅ Automatically ignore test files during build<br>
✅ Automatically remove <code>data-testid</code> attributes<br>
✅ Add <code>ignorePatterns</code> and <code>replacePatterns</code> to achieve much more control over your build<br>
✅ Fully Documented<br>
✅ Ready to use <a href="https://github.com/mayank1513/turborepo-template.git">GitHub repository template</a> to create your next react18 library\</p>
<p>The introduction of React server components in React 18 has unlocked immense possibilities. However, library authors are not yet able to fully capitalize on this potential. Many libraries, like <code>chakra-ui</code>, simply add “use client” for each component. However, much more can be unleashed when we can use both server and client components to build libraries. Also, check out this <a href="https://mayank1513.medium.com/unleash-the-power-of-react-server-components-eb3fe7201231">blog</a>.</p>
<a id="md:build-the-libraries-that" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Build the libraries that<a href="#md:build-the-libraries-that" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>✅ are Fully Treeshakable (import from <code>esbuild-plugin-react18/client/loader-container</code>)</p>
<p>✅ provide Fully TypeScript Supported</p>
<p>✅ Leverage the full power of React 18 Server components</p>
<p>✅ are Compatible with all React 18 build systems/tools/frameworks</p>
<p>✅ are Documented with <a href="https://react18-tools.github.io/esbuild-plugin-react18">Typedoc</a> (<a href="https://react18-tools.github.io/esbuild-plugin-react18">Docs</a>)</p>
<p>✅ provide Examples for Next.js, Vite, and Remix</p>
<blockquote>
<p><img src="https://github.com/react18-tools/turborepo-template/blob/main/popper.png?raw=true" style="height: 20px"/> Please consider starring <a href="https://github.com/react18-tools/esbuild-plugin-react18">this repository</a> and sharing it with your friends.</p>
</blockquote>
<a id="md:compatibility" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Compatibility<a href="#md:compatibility" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><ul>
<li>JavaScript/TypeScript React libraries using <code>tsup</code> or other builders based on <code>esbuild</code></li>
</ul>
<p>This plugin seamlessly integrates with <code>tsup</code> and any other builders based on <code>esbuild</code>. With this, you can have both server and client components in your library and the plugin will take care of the rest. All you need to do is add this plugin and add <code>&quot;use client&quot;;</code> on top of client components (in your source code). Additionally, test files will be removed automatically from the build resulting in a smaller package. Explore more functionalities in the docs.</p>
<a id="md:getting-started" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Getting Started<a href="#md:getting-started" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><a id="md:installation" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Installation<a href="#md:installation" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="bash"><span class="hl-0">$</span><span class="hl-1"> </span><span class="hl-2">pnpm</span><span class="hl-1"> </span><span class="hl-2">add</span><span class="hl-1"> </span><span class="hl-2">esbuild-plugin-react18</span>
</code><button type="button">Copy</button></pre>

<p><strong><em>or</em></strong></p>
<pre><code class="bash"><span class="hl-0">$</span><span class="hl-1"> </span><span class="hl-2">npm</span><span class="hl-1"> </span><span class="hl-2">install</span><span class="hl-1"> </span><span class="hl-2">esbuild-plugin-react18</span>
</code><button type="button">Copy</button></pre>

<p><strong><em>or</em></strong></p>
<pre><code class="bash"><span class="hl-0">$</span><span class="hl-1"> </span><span class="hl-2">yarn</span><span class="hl-1"> </span><span class="hl-2">add</span><span class="hl-1"> </span><span class="hl-2">esbuild-plugin-react18</span>
</code><button type="button">Copy</button></pre>

<blockquote>
<p>If you are using <code>monorepo</code> or <code>workspaces</code>, you can install this plugin to the root using <code>-w</code> or to a specific workspace using <code>--filter your-package</code> or <code>--scope your-package</code> for <code>pnpm</code> or <code>yarn</code> workspaces, respectively.</p>
</blockquote>
<a id="md:use-with-tsup" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Use with <code>tsup</code><a href="#md:use-with-tsup" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><pre><code class="ts"><span class="hl-3">// tsup.config.ts or tsup.config.js</span><br/><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">defineConfig</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&quot;tsup&quot;</span><span class="hl-1">;</span><br/><span class="hl-4">import</span><span class="hl-1"> </span><span class="hl-5">react18Plugin</span><span class="hl-1"> </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&quot;esbuild-react18-useclient&quot;</span><span class="hl-1">;</span><br/><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">react18PluginOptions</span><span class="hl-1">: </span><span class="hl-8">React18PluginOptions</span><span class="hl-1"> = {}</span><br/><span class="hl-4">export</span><span class="hl-1"> </span><span class="hl-4">default</span><span class="hl-1"> </span><span class="hl-0">defineConfig</span><span class="hl-1">(</span><span class="hl-5">options</span><span class="hl-1"> </span><span class="hl-6">=&gt;</span><span class="hl-1"> ({</span><br/><span class="hl-1">    ...</span><br/><span class="hl-1">    </span><span class="hl-5">esbuildPlugins</span><span class="hl-1">:[</span><span class="hl-0">react18Plugin</span><span class="hl-1">(</span><span class="hl-5">react18PluginOptions</span><span class="hl-1">)]</span><br/><span class="hl-1">}));</span>
</code><button type="button">Copy</button></pre>

<a id="md:use-with-esbuild" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Use with <code>esbuild</code><a href="#md:use-with-esbuild" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><pre><code class="ts"><span class="hl-4">import</span><span class="hl-1"> </span><span class="hl-5">react18Plugin</span><span class="hl-1"> </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&quot;esbuild-react18-useclient&quot;</span><span class="hl-1">;</span><br/><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">react18PluginOptions</span><span class="hl-1">: </span><span class="hl-8">React18PluginOptions</span><span class="hl-1"> = {}</span><br/><span class="hl-5">esbuild</span><span class="hl-1">.</span><span class="hl-0">build</span><span class="hl-1">({</span><br/><span class="hl-1">	...</span><br/><span class="hl-1">	</span><span class="hl-5">plugins</span><span class="hl-1">: [</span><span class="hl-0">react18Plugin</span><span class="hl-1">()],</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<a id="md:plugin-options" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Plugin Options<a href="#md:plugin-options" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><pre><code class="ts"><span class="hl-6">interface</span><span class="hl-1"> </span><span class="hl-8">React18PluginOptions</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-3">/** to not ignore test files */</span><br/><span class="hl-1">  </span><span class="hl-5">keepTests</span><span class="hl-1">?: </span><span class="hl-8">boolean</span><span class="hl-1">;</span><br/><br/><span class="hl-1">  </span><span class="hl-3">/** to not remove `data-testid` attributes. If `keepTests` is true,</span><br/><span class="hl-3">   * `data-testid` attributes will not be removed irrespective of</span><br/><span class="hl-3">   * `keepTestIds` value.</span><br/><span class="hl-3">   * This attribute is useful when setting `sourceReplacePatterns`</span><br/><span class="hl-3">   */</span><br/><span class="hl-1">  </span><span class="hl-5">keepTestIds</span><span class="hl-1">?: </span><span class="hl-8">boolean</span><span class="hl-1">;</span><br/><br/><span class="hl-1">  </span><span class="hl-3">/**</span><br/><span class="hl-3">   * regExp patterns to match file paths to be ignored.</span><br/><span class="hl-3">   * If contentPatterns are provided, only the files at matching paths</span><br/><span class="hl-3">   * containing one or more of the content patterns will be ignored</span><br/><span class="hl-3">   */</span><br/><span class="hl-1">  </span><span class="hl-5">ignorePatterns</span><span class="hl-1">?: { </span><span class="hl-5">pathPattern</span><span class="hl-1">: </span><span class="hl-8">RegExp</span><span class="hl-1">; </span><span class="hl-5">contentPatterns</span><span class="hl-1">?: </span><span class="hl-8">RegExp</span><span class="hl-1">[] }[];</span><br/><br/><span class="hl-1">  </span><span class="hl-3">/**</span><br/><span class="hl-3">   * regExp patterns to find and replace in source files before build</span><br/><span class="hl-3">   *</span><br/><span class="hl-3">   * Use with caution! Make sure the same file does not match multiple patterns</span><br/><span class="hl-3">   * to avoid any unexpected results.</span><br/><span class="hl-3">   *</span><br/><span class="hl-3">   * Caution! - if you have not enabled `keepTests`, we are already using</span><br/><span class="hl-3">   * `/.*\.(j|t)s(x)?$/` pattern to remove `</span><br/><br/><span class="hl-3">data-testid` attributes. If your</span><br/><span class="hl-3">   * `sourceReplacePatterns` collide with these files, please set `keepTestIds`</span><br/><span class="hl-3">   * to `true` and handle removing testids yourself.</span><br/><span class="hl-3">   */</span><br/><span class="hl-1">  </span><span class="hl-5">sourceReplacePatterns</span><span class="hl-1">?: {</span><br/><span class="hl-1">    </span><span class="hl-5">pathPattern</span><span class="hl-1">: </span><span class="hl-8">RegExp</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-5">replaceParams</span><span class="hl-1">: { </span><span class="hl-5">pattern</span><span class="hl-1">: </span><span class="hl-8">RegExp</span><span class="hl-1">; </span><span class="hl-5">substitute</span><span class="hl-1">: </span><span class="hl-8">string</span><span class="hl-1"> }[];</span><br/><span class="hl-1">  }[];</span><br/><br/><span class="hl-1">  </span><span class="hl-3">/**</span><br/><span class="hl-3">   * regExp patterns to find and replace in build files after build</span><br/><span class="hl-3">   * Use with caution! Make sure the same file does not match multiple patterns</span><br/><span class="hl-3">   * to avoid any unexpected results.</span><br/><span class="hl-3">   */</span><br/><span class="hl-1">  </span><span class="hl-5">buildReplacePatterns</span><span class="hl-1">?: {</span><br/><span class="hl-1">    </span><span class="hl-5">pathPattern</span><span class="hl-1">: </span><span class="hl-8">RegExp</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-5">replaceParams</span><span class="hl-1">: { </span><span class="hl-5">pattern</span><span class="hl-1">: </span><span class="hl-8">RegExp</span><span class="hl-1">; </span><span class="hl-5">substitute</span><span class="hl-1">: </span><span class="hl-8">string</span><span class="hl-1"> }[];</span><br/><span class="hl-1">  }[];</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<a id="md:🤩-dont-forget-to-star-this-repo" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><a href="https://github.com/react18-tools/esbuild-plugin-react18">🤩 Don't forget to star this repo!</a><a href="#md:🤩-dont-forget-to-star-this-repo" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p><a href="https://github.com/react18-tools/esbuild-plugin-react18">💖</a> <a href="https://github.com/react18-tools/esbuild-plugin-react18">🌟</a>
Want a hands-on course for getting started with Turborepo? Check out <a href="https://www.udemy.com/course/react-and-next-js-with-typescript/?referralCode=7202184A1E57C3DCA8B2">React and Next.js with TypeScript</a> and <a href="https://www.udemy.com/course/game-of-chess-with-nextjs-react-and-typescrypt/?referralCode=851A28F10B254A8523FE">The Game of Chess with Next.js, React, and TypeScript</a></p>
<p><img src="https://repobeats.axiom.co/api/embed/798673e15cf0802fe4e2470f946b64b551b5536d.svg" alt="Alt" title="Repobeats analytics image"></p>
<a id="md:license" class="tsd-anchor"></a><h2 class="tsd-anchor-link">License<a href="#md:license" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>This library is licensed under the MPL-2.0 open-source license.</p>
<blockquote>
<p><img src="https://github.com/react18-tools/turborepo-template/blob/main/popper.png?raw=true" style="height: 20px"/> Please consider enrolling in <a href="https://mayank-chaudhari.vercel.app/courses">our courses</a> or <a href="https://github.com/sponsors/mayank1513">sponsoring</a> our work.</p>
</blockquote>
<hr />
<p align="center" style="text-align:center">with 💖 by <a href="https://mayank-chaudhari.vercel.app" target="_blank">Mayank Kumar Chaudhari</a></p></div></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-accordion"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="assets/icons.svg#icon-chevronDown"></use></svg>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><span class="settings-label">Member Visibility</span><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li></ul></div><div class="tsd-theme-toggle"><label class="settings-label" for="tsd-theme">Theme</label><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div><details open class="tsd-accordion tsd-page-navigation"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="assets/icons.svg#icon-chevronDown"></use></svg>On This Page</h3></summary><div class="tsd-accordion-details"><a href="#md:esbuild-plugin-react18-"><span>Esbuild <wbr/>Plugin <wbr/>React18 &lt;img src=&quot;https://github.com/react18-<wbr/>tools/turborepo-<wbr/>template/blob/main/popper.png?raw=true&quot; style=&quot;height: 40px&quot;/&gt;</span></a><ul><li><a href="#md:why"><span>Why?</span></a></li><li><ul><li><a href="#md:build-the-libraries-that"><span>Build the libraries that</span></a></li></ul></li><li><a href="#md:compatibility"><span>Compatibility</span></a></li><li><a href="#md:getting-started"><span>Getting <wbr/>Started</span></a></li><li><ul><li><a href="#md:installation"><span>Installation</span></a></li></ul></li><li><a href="#md:use-with-tsup"><span>Use with tsup</span></a></li><li><a href="#md:use-with-esbuild"><span>Use with esbuild</span></a></li><li><a href="#md:plugin-options"><span>Plugin <wbr/>Options</span></a></li><li><ul><li><a href="#md:🤩-dont-forget-to-star-this-repo"><span>🤩 <wbr/>Don&#39;t forget to star this repo!</span></a></li></ul></li><li><a href="#md:license"><span>License</span></a></li></ul></div></details></div><div class="site-menu"><nav class="tsd-navigation"><a href="modules.html" class="current"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="assets/icons.svg#icon-1"></use></svg><span>React18 Loaders</span></a><ul class="tsd-small-nested-navigation" id="tsd-nav-container" data-base="."><li>Loading...</li></ul></nav></div></div></div><footer><p class="tsd-generator">Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></footer><div class="overlay"></div></body></html>
